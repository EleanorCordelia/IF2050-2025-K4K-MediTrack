<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ChoiceBox?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="600.0" prefWidth="1000.0" style="-fx-background-color: #FAFBFC; -fx-font-family: 'Poppins';"
            xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.meditrack.PenggunaController">

    <VBox layoutX="0" layoutY="0" prefWidth="180.0" prefHeight="600.0" style="-fx-background-color: #FFFFFF;">
        <HBox alignment="CENTER_LEFT" spacing="5">
            <padding><Insets top="10" bottom="5" left="10"/></padding>
            <ImageView fitHeight="30.0" fitWidth="30.0">
                <image><Image url="@/images/logo.png"/></image>
            </ImageView>
            <Label text="MediTrack"
                   style="-fx-text-fill: #112f82; -fx-font-size: 16px; -fx-font-weight: bold;"/>
        </HBox>
        <VBox spacing="3" alignment="CENTER_LEFT">
            <padding><Insets left="10" top="15" right="10"/></padding>

            <Button maxWidth="Infinity" style="-fx-background-color: #1D4ED8; -fx-background-radius: 8px;"
                    contentDisplay="GRAPHIC_ONLY"> <padding><Insets top="8" bottom="8" left="15" right="10"/></padding>
                <graphic>
                    <HBox alignment="CENTER_LEFT" spacing="8"> <StackPane prefWidth="24.0" prefHeight="24.0" alignment="CENTER"> <ImageView fitHeight="20" fitWidth="20"><image><Image url="@/images/dummy.png"/></image></ImageView> </StackPane>
                        <Label text="Menu" style="-fx-font-family: 'Poppins'; -fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: white;"/>
                    </HBox>
                </graphic>
            </Button>

            <Button maxWidth="Infinity" style="-fx-background-color: transparent;"
                    contentDisplay="GRAPHIC_ONLY">
                <padding><Insets top="8" bottom="8" left="15" right="10"/></padding>
                <graphic>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <StackPane prefWidth="24.0" prefHeight="24.0" alignment="CENTER">
                            <ImageView fitHeight="20" fitWidth="20"><image><Image url="@/images/icon-rekomendasi.png"/></image></ImageView>
                        </StackPane>
                        <Label text="Rekomendasi" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #737791;"/>
                    </HBox>
                </graphic>
            </Button>

            <Button maxWidth="Infinity" style="-fx-background-color: transparent;"
                    contentDisplay="GRAPHIC_ONLY">
                <padding><Insets top="8" bottom="8" left="15" right="10"/></padding>
                <graphic>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <StackPane prefWidth="24.0" prefHeight="24.0" alignment="CENTER">
                            <ImageView fitHeight="20" fitWidth="20"><image><Image url="@/images/icon-obat.png"/></image></ImageView>
                        </StackPane>
                        <Label text="Obat" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #737791;"/>
                    </HBox>
                </graphic>
            </Button>

            <Button maxWidth="Infinity" style="-fx-background-color: transparent;"
                    contentDisplay="GRAPHIC_ONLY">
                <padding><Insets top="8" bottom="8" left="15" right="10"/></padding>
                <graphic>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <StackPane prefWidth="24.0" prefHeight="24.0" alignment="CENTER">
                            <ImageView fitHeight="20" fitWidth="20"><image><Image url="@/images/icon-laporan.png"/></image></ImageView>
                        </StackPane>
                        <Label text="Laporan Kesehatan" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #737791;"/>
                    </HBox>
                </graphic>
            </Button>

            <Button maxWidth="Infinity" style="-fx-background-color: transparent;"
                    contentDisplay="GRAPHIC_ONLY">
                <padding><Insets top="8" bottom="8" left="15" right="10"/></padding>
                <graphic>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <StackPane prefWidth="24.0" prefHeight="24.0" alignment="CENTER">
                            <ImageView fitHeight="20" fitWidth="20"><image><Image url="@/images/icon-jadwal.png"/></image></ImageView>
                        </StackPane>
                        <Label text="Jadwal" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #737791;"/>
                    </HBox>
                </graphic>
            </Button>

            <Button maxWidth="Infinity" style="-fx-background-color: transparent;"
                    contentDisplay="GRAPHIC_ONLY">
                <padding><Insets top="8" bottom="8" left="15" right="10"/></padding>
                <graphic>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <StackPane prefWidth="24.0" prefHeight="24.0" alignment="CENTER">
                            <ImageView fitHeight="20" fitWidth="20"><image><Image url="@/images/icon-konsultasi.png"/></image></ImageView>
                        </StackPane>
                        <Label text="Konsultasi" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #737791;"/>
                    </HBox>
                </graphic>
            </Button>

            <Button maxWidth="Infinity" style="-fx-background-color: transparent;"
                    contentDisplay="GRAPHIC_ONLY">
                <padding><Insets top="8" bottom="8" left="15" right="10"/></padding>
                <graphic>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <StackPane prefWidth="24.0" prefHeight="24.0" alignment="CENTER">
                            <ImageView fitHeight="20" fitWidth="20"><image><Image url="@/images/icon-pengaturan.png"/></image></ImageView>
                        </StackPane>
                        <Label text="Pengaturan" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #737791;"/>
                    </HBox>
                </graphic>
            </Button>

            <Button maxWidth="Infinity" style="-fx-background-color: transparent;"
                    contentDisplay="GRAPHIC_ONLY">
                <padding><Insets top="8" bottom="8" left="15" right="10"/></padding>
                <graphic>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <StackPane prefWidth="24.0" prefHeight="24.0" alignment="CENTER">
                            <ImageView fitHeight="20" fitWidth="20"><image><Image url="@/images/sign-out-icon.jpg"/></image></ImageView>
                        </StackPane>
                        <Label text="Keluar" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #737791;"/>
                    </HBox>
                </graphic>
            </Button>
        </VBox>
    </VBox>

    <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                AnchorPane.leftAnchor="180.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0">
        <AnchorPane prefHeight="600.0" prefWidth="820.0" style="-fx-background-color: #FAFBFC;">

            <Rectangle height="60.0" width="820.0" style="-fx-fill: #FFFFFF;" AnchorPane.leftAnchor="0.0" AnchorPane.topAnchor="0.0"/>

            <Label text="Manajemen Akun" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 28px; -fx-text-fill: #0A1B4C;"
                   AnchorPane.leftAnchor="20.0" AnchorPane.topAnchor="18.0"/>

            <HBox alignment="CENTER_LEFT" prefHeight="30.0" prefWidth="180.0" spacing="5"
                  style="-fx-background-color: #F9FAFB; -fx-background-radius: 8px; -fx-border-color: #E0E0E0; -fx-border-width: 1px;"
                  AnchorPane.rightAnchor="300.0" AnchorPane.topAnchor="15.0">
                <padding><Insets bottom="2.0" left="8.0" right="8.0" top="2.0"/></padding>
                <ImageView fitHeight="16.0" fitWidth="16.0">
                    <image><Image url="@/images/magnifier.jpg"/></image>
                </ImageView>
                <TextField promptText="Cari di sini..." style="-fx-background-color: transparent; -fx-font-family: 'Poppins'; -fx-font-size: 12px; -fx-prompt-text-fill: #737791; -fx-border-width: 0;"/>
            </HBox>

            <HBox alignment="CENTER_RIGHT" spacing="10.0" AnchorPane.rightAnchor="10.0" AnchorPane.topAnchor="15.0">
                <HBox alignment="CENTER_LEFT" spacing="3.0" style="-fx-background-color: #FFFFFF; -fx-padding: 5px; -fx-background-radius: 8px;">
                    <ImageView fitHeight="16.0" fitWidth="16.0">
                        <image><Image url="@/images/indonesia-flag.jpg"/></image>
                    </ImageView>
                    <Label text="Indo (IDN)" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 12px; -fx-text-fill: #374557;"/>
                    <ImageView fitHeight="10.0" fitWidth="10.0">
                        <image><Image url="@/images/chevron-down.jpg"/></image>
                    </ImageView>
                </HBox>
                <StackPane prefHeight="30.0" prefWidth="30.0">
                    <Circle radius="15.0" style="-fx-fill: #F0F0F0;"/>
                    <ImageView fitHeight="24.0" fitWidth="24.0">
                        <image><Image url="@/images/carlos_fernando.jpg"/></image> <clip><Circle radius="12.0" centerX="12.0" centerY="12.0"/></clip>
                    </ImageView>
                </StackPane>
                <Label text="Carlos" style="-fx-font-family: 'Poppins'; -fx-font-weight: MEDIUM; -fx-font-size: 12px; -fx-text-fill: #151D48;"/>
                <Label text="Pengguna" style="-fx-font-family: 'Poppins'; -fx-font-weight: NORMAL; -fx-font-size: 10px; -fx-text-fill: #737791;"/>
            </HBox>

            <VBox spacing="15" AnchorPane.leftAnchor="20.0" AnchorPane.topAnchor="80.0" prefWidth="400.0" style="-fx-background-color: #FFFFFF; -fx-background-radius: 8px; -fx-padding: 15px;">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Informasi Akun" style="-fx-font-family: 'Poppins'; -fx-font-weight: BOLD; -fx-font-size: 18px; -fx-text-fill: #0A1B4C;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="editProfileButton" style="-fx-background-color: transparent;">
                        <graphic>
                            <ImageView fitHeight="16" fitWidth="16">
                                <image><Image url="@/images/edit-icon.png"/></image>
                            </ImageView>
                        </graphic>
                    </Button>
                </HBox>
                <VBox alignment="CENTER" spacing="5">
                    <StackPane prefHeight="80.0" prefWidth="80.0">
                        <Circle radius="40.0" style="-fx-fill: #D9D9D9;"/>
                        <ImageView fx:id="profileAvatar" fitHeight="70.0" fitWidth="70.0">
                            <image><Image url="@/images/carlos_fernando.jpg"/></image>
                            <clip><Circle radius="35.0" centerX="35.0" centerY="35.0"/></clip>
                        </ImageView>
                    </StackPane>
                    <Label fx:id="profileName" text="Carlos Fernando" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 16px; -fx-text-fill: #151D48;"/>
                    <Label fx:id="profileAlteress" text="Alteress" style="-fx-font-family: 'Poppins'; -fx-font-weight: NORMAL; -fx-font-size: 12px; -fx-text-fill: #737791;"/>
                </VBox>
                <GridPane hgap="8.0" vgap="8.0">
                    <columnConstraints>
                        <ColumnConstraints halignment="LEFT" prefWidth="100.0"/>
                        <ColumnConstraints prefWidth="220.0"/>
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints/>
                        <RowConstraints/>
                        <RowConstraints/>
                        <RowConstraints/>
                        <RowConstraints/>
                    </rowConstraints>

                    <HBox alignment="CENTER_LEFT" spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <ImageView fitHeight="14" fitWidth="14"><image><Image url="@/images/person-icon.jpg"/></image></ImageView>
                        <Label text="Nama Lengkap" style="-fx-font-family: 'Poppins'; -fx-font-size: 12px; -fx-text-fill: #737791;"/>
                    </HBox>
                    <Label fx:id="fullNameLabel" text="Carlos Fernando" style="-fx-font-family: 'Poppins'; -fx-font-weight: MEDIUM; -fx-font-size: 12px; -fx-text-fill: #151D48;" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <HBox alignment="CENTER_LEFT" spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                        <ImageView fitHeight="14" fitWidth="14"><image><Image url="@/images/mail-icon.png"/></image></ImageView>
                        <Label text="Email" style="-fx-font-family: 'Poppins'; -fx-font-size: 12px; -fx-text-fill: #737791;"/>
                    </HBox>
                    <Label fx:id="emailLabel" text="carlos@email.com" style="-fx-font-family: 'Poppins'; -fx-font-weight: MEDIUM; -fx-font-size: 12px; -fx-text-fill: #151D48;" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <HBox alignment="CENTER_LEFT" spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="2">
                        <ImageView fitHeight="14" fitWidth="14"><image><Image url="@/images/phone-icon.jpg"/></image></ImageView>
                        <Label text="Nomor HP" style="-fx-font-family: 'Poppins'; -fx-font-size: 12px; -fx-text-fill: #737791;"/>
                    </HBox>
                    <Label fx:id="phoneLabel" text="+62 812-3456-7990" style="-fx-font-family: 'Poppins'; -fx-font-weight: MEDIUM; -fx-font-size: 12px; -fx-text-fill: #151D48;" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                    <HBox alignment="CENTER_LEFT" spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="3">
                        <ImageView fitHeight="14" fitWidth="14"><image><Image url="@/images/calendar.png"/></image></ImageView>
                        <Label text="Tanggal Lahir" style="-fx-font-family: 'Poppins'; -fx-font-size: 12px; -fx-text-fill: #737791;"/>
                    </HBox>
                    <Label fx:id="dobLabel" text="10 April 1990" style="-fx-font-family: 'Poppins'; -fx-font-weight: MEDIUM; -fx-font-size: 12px; -fx-text-fill: #151D48;" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                    <HBox alignment="CENTER_LEFT" spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="4">
                        <ImageView fitHeight="14" fitWidth="14"><image><Image url="@/images/gender-icon.png"/></image></ImageView>
                        <Label text="Jenis Kelamin" style="-fx-font-family: 'Poppins'; -fx-font-size: 12px; -fx-text-fill: #737791;"/>
                    </HBox>
                    <Label fx:id="genderLabel" text="Laki-laki" style="-fx-font-family: 'Poppins'; -fx-font-weight: MEDIUM; -fx-font-size: 12px; -fx-text-fill: #151D48;" GridPane.columnIndex="1" GridPane.rowIndex="4"/>
                </GridPane>
            </VBox>

            <VBox spacing="15" AnchorPane.leftAnchor="440.0" AnchorPane.topAnchor="80.0" prefWidth="350.0" prefHeight="250.0" style="-fx-background-color: #FFFFFF; -fx-background-radius: 8px; -fx-padding: 15px;">
                <Label text="Keamanan Akun" style="-fx-font-family: 'Poppins'; -fx-font-weight: BOLD; -fx-font-size: 18px; -fx-text-fill: #0A1B4C;"/>
                <VBox spacing="8">
                    <Label text="Ganti Kata Sandi" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #151D48;"/>
                    <Label text="Untuk menjaga keamanan akun Anda." style="-fx-font-family: 'Poppins'; -fx-font-size: 12px; -fx-text-fill: #737791;"/>
                    <Button fx:id="changePasswordButton" text="Ubah Kata Sandi" onAction="#handleChangePassword"
                            style="-fx-background-color: #1D4ED8; -fx-background-radius: 8px; -fx-text-fill: #FFFFFF; -fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 12px;"
                            prefHeight="30.0" prefWidth="150.0"/>
                </VBox>
            </VBox>

            <VBox spacing="15" AnchorPane.leftAnchor="440.0" AnchorPane.topAnchor="345.0" prefWidth="350.0" prefHeight="250.0" style="-fx-background-color: #FFFFFF; -fx-background-radius: 8px; -fx-padding: 15px;">
                <Label text="Preferensi" style="-fx-font-family: 'Poppins'; -fx-font-weight: BOLD; -fx-font-size: 18px; -fx-text-fill: #0A1B4C;"/>
                <VBox spacing="10">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="Bahasa" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #151D48;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <ChoiceBox fx:id="languageChoiceBox" prefWidth="100.0" style="-fx-background-color: #F9FAFB; -fx-background-radius: 8px; -fx-border-color: #C3D3E2; -fx-border-width: 1px; -fx-border-radius: 8px; -fx-font-family: 'Poppins'; -fx-font-size: 12px;"/>
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="Tema" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #151D48;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <ToggleButton fx:id="themeToggleButton" text=" " style="-fx-background-color: #C3D3E2; -fx-background-radius: 20px; -fx-pref-width: 30px; -fx-pref-height: 16px;"/>
                    </HBox>
                    <Label text="Notifikasi Email" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #151D48;"/>
                </VBox>
            </VBox>

            <VBox spacing="15" AnchorPane.leftAnchor="20.0" AnchorPane.topAnchor="490.0" prefWidth="400.0" prefHeight="100.0" style="-fx-background-color: #FFFFFF; -fx-background-radius: 8px; -fx-padding: 15px;">
                <Label text="Kelola Akun" style="-fx-font-family: 'Poppins'; -fx-font-weight: BOLD; -fx-font-size: 18px; -fx-text-fill: #0A1B4C;"/>
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Nonaktifkan Akun Sementara" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #151D48;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="deactivateAccountButton" text="Nonaktifkan" onAction="#handleDeactivateAccount"
                            style="-fx-background-color: #F9FAFB; -fx-background-radius: 8px; -fx-border-color: #C3D3E2; -fx-border-width: 1px; -fx-text-fill: #737791; -fx-font-family: 'Poppins'; -fx-font-weight: MEDIUM; -fx-font-size: 12px;"
                            prefHeight="25.0" prefWidth="100.0"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Hapus Akun Secara Permanen" style="-fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 14px; -fx-text-fill: #151D48;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="deleteAccountButton" text="Hapus Akun" onAction="#handleDeleteAccount"
                            style="-fx-background-color: #EB5757; -fx-background-radius: 8px; -fx-text-fill: #FFFFFF; -fx-font-family: 'Poppins'; -fx-font-weight: SEMI_BOLD; -fx-font-size: 12px;"
                            prefHeight="25.0" prefWidth="100.0"/>
                </HBox>
            </VBox>
        </AnchorPane>
    </ScrollPane>
</AnchorPane>